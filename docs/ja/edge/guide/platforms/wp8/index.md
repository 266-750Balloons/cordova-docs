---

license: Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at

           http://www.apache.org/licenses/LICENSE-2.0
    
         Unless required by applicable law or agreed to in writing,
         software distributed under the License is distributed on an
         "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
         KIND, either express or implied.  See the License for the
         specific language governing permissions and limitations
    

   under the License.
---

# Windows Phone プラットフォーム ガイド

This guide shows how to set up your SDK development environment to deploy Cordova apps for Windows Phone devices. It focuses on Windows Phone 8, but provides additional details on how to support Windows Phone 7.

It shows how to use either Windows Phone-specific shell tools to generate and build apps, or the cross-platform Cordova CLI discussed in The Command-Line Interface. (See the Overview for a comparison of these development workflows.) This section also shows how to open Cordova apps so that you can modify them within Visual Studio. Regardless of which approach you take, you need to install the Windows Phone SDK, as described below.

See the following for details specific to the Windows Phone platform:

*   Windows Phone のプラグイン
*   Windows Phone のアップグレード

For the Windows Phone 8 platform, the Cordova WebView relies on Internet Explorer 10 as its rendering engine, so as a practical matter you can use IE10's powerful debugger to test any web content that doesn't invoke Cordova APIs. Windows Phone 開発者ブログは対等な WebKit ブラウザーと一緒に IE10 をサポートする方法について[有用なガイダンス][1]を提供します。

 [1]: http://blogs.windows.com/windows_phone/b/wpdev/archive/2012/11/15/adapting-your-webkit-optimized-site-for-internet-explorer-10.aspx

## 要件、およびサポート

次が必要です。

*   A 64-bit version of Windows 8 Pro, either an installation disk or an *ISO* disk image file. An evaluation version is available on the [Microsoft Developer Network][2]. The Pro version is necessary to run the device emulator.

*   The [Windows Phone SDK][3].

 [2]: http://msdn.microsoft.com/en-US/evalcenter/jj554510
 [3]: https://dev.windowsphone.com/en-us/downloadsdk

To develop Cordova apps for Windows Phone devices, you may use a PC running Windows, but you may also develop on a Mac, either by running a virtual machine environment or by using Boot Camp to dual-boot a Windows partition. Consult these resources to set up the required Windows development environment on a Mac:

*   **VMWare Fusion**: To set up the Windows 8 virtual machine, follow the instructions provided by the [Microsoft Developer Network][4], then see Configuring VMWare Fusion for information on preparing the virtual environment to run the emulator bundled with the SDK.

*   **Parallels Desktop**: To set up the Windows 8 virtual machine, follow the instructions provided by the [Microsoft Developer Network][5], then see Configuring Parallels Desktop for information on preparing the virtual environment to run the emulator bundled with the SDK.

 [4]: http://msdn.microsoft.com/en-US/library/windows/apps/jj945426
 [5]: http://msdn.microsoft.com/en-US/library/windows/apps/jj945424

<!--
- __VirtualBox__: To set up the Windows 8 virtual machine, follow the
  installation instructions provided by the [Microsoft Developer
  Network](http://msdn.microsoft.com/en-US/library/windows/apps/jj945425).

  2DO: virtualBox doesn't work yet; any extra config info?
-->

*   **Boot Camp**: To set up the Windows 8 partition, follow the installation instructions provided by the [Microsoft Developer Network][6].

 [6]: http://msdn.microsoft.com/en-US/library/windows/apps/jj945423

If you are developing on a PC, its processor must support virtualization (*VT-x* on Intel) and [Second Level Address Translation (SLAT)][7]. Consult [Intel's list of supporting processors][8]. Virtualization is typically disabled by default, so you need to enable it in your BIOS settings. The PC should have at least 6.5GB of free hard disk space, and 4GB of RAM.

 [7]: http://en.wikipedia.org/wiki/Second_Level_Address_Translation
 [8]: http://ark.intel.com/Products/VirtualizationTechnology

## Using Cordova Shell Tools

If you want to use Cordova's Windows Phone-centered shell tools in conjunction with the SDK, you have two basic options:

*   Access them locally from project code generated by the CLI. They are available in the `platforms/wp8/cordova` directory after you add the `wp8` platform as described below.

*   Download them from a separate distribution at [cordova.apache.org][9]. The Cordova distribution contains separate archives for each platform. Be sure to expand the appropriate archive, `cordova-wp8\wp8` in this case, within an empty directory. The relevant batch utilities are available in the top-level `bin` directory. (より詳細な指示が必要な場合は、 **README**ファイルを参照して)。

 [9]: http://cordova.apache.org

これらのシェルのツールを作成、構築、および Windows Phone アプリケーションを実行することができます。 すべてのプラットフォームのプラグイン機能を有効にする追加のコマンド ライン インターフェイスについては、管理プラグインを使用して Plugman を参照してください。 詳細については、Windows Phone プラットフォームに固有のプラグイン、および Windows Phone プラグインを開発する方法に関するガイダンスについては、アプリケーション ・ プラグインを参照してください。

## SDK をインストールします。

[Dev.windowsphone.com][3]の**ダウンロード**エリアから Windows Phone SDK の最新バージョンをインストールします。 もっと最近エミュレーター更新プログラム パッケージをインストールすることも可能性があります。

![][10]

 [10]: img/guide/platforms/wp8/wp8_downloadSDK.png

SDK をインストールした後 Windows コマンドラインで、SDK コルドバを利用できるように、システムのパスを変更する必要があります。

*   最初のパス文字列を取得する必要があります。 **ファイル エクスプ ローラー**を開くに移動し、 `C:\Windows\Microsoft.NET\Framework` を開き、最新のフレームワーク。 それをコピーの完全パスの文字列を表示し、 **CTRL-c**を入力へのナビゲーション パスの右側をクリックします。
    
    ![][11]

*   パスを変更する必要があります。Windows 8 のホーム画面の**アプリ**の領域内から**コントロール パネル**を開きます。
    
    ![][12]

*   **システム**のコントロール パネル アイテムを開きます。
    
    ![][13]

*   左側のリストから**システムの詳細設定**を選択します。
    
    ![][14]

*   結果パネルの下部には**環境変数**ボタンを押してください。
    
    ![][15]

*   **ユーザー変数**から**パス**を選択し、キーを押して**編集します**。
    
    ![][16]
    
    それ以外の場合利用できる**パス**がない場合は**新しい**それを作成するキーを押します。

*   パス値が既に存在する場合はセミコロンを追加し、先ほどコピーしたパス文字列を貼り付けます。そうでなければ単に文字列を貼り付けます。
    
    ![][17]
    
    ここも指定するサンプル**のパス**値、 `npm` コルドバ CLI をインストールするために必要なユーティリティ：
    
    C:\Users\me\AppData\Roaming\npm;C:\Windows\Microsoft.NET\Framework\v4.0.30319

 [11]: img/guide/platforms/wp8/modpath_copy.png
 [12]: img/guide/platforms/wp8/modpath_control_panel.png
 [13]: img/guide/platforms/wp8/modpath_system.png
 [14]: img/guide/platforms/wp8/modpath_advanced.png
 [15]: img/guide/platforms/wp8/modpath_environment.png
 [16]: img/guide/platforms/wp8/modpath_edit.png
 [17]: img/guide/platforms/wp8/modpath_append.png

## 新しいプロジェクトを作成します。

この時点で、新しいプロジェクトを作成する、コマンド ライン インターフェイスまたは Windows Phone 固有のシェル ツール セットで説明するクロス プラットフォーム CLI ツールの間に選択できます。 ソース コード ディレクトリ内からの場合、CLI アプローチここです：

        > cordova create hello com.example.hello HelloWorld
        > cd hello
        > cordova platform add wp8
    

ここでは、対応する下位レベル シェル ツール アプローチ：

        C:\path\to\cordova-wp8\bin\create.bat C:\path\to\new\hello com.example.hello HelloWorld
    

## プロジェクトをビルドします

開発で CLI を使用している場合は、プロジェクト ディレクトリの最上位 `www` ディレクトリにソース ファイルが含まれています。アプリを再構築するには、プロジェクト ディレクトリ内のこれらのいずれかを実行します。

        > cordova build
        > cordova build wp8   # do not rebuild other platforms
    

開発で Windows Phone 固有のシェルのツールを使用している場合、別のアプローチがあります。 プロジェクトを生成した後、既定のアプリケーションのソースは、 `projects\wp8\www` サブディレクトリ。 以降のコマンドは、 `cordova` 、同じレベルのサブディレクトリ。

`build`コマンドをプロジェクト ファイルを消去して、アプリを再構築します。最初の例では、デバッグ情報を生成して、2 番目のリリースのアプリに署名します。

        C:\path\to\project\cordova\build.bat --debug        
        C:\path\to\project\cordova\build.bat --release
    

`clean`コマンドは準備として、次のディレクトリを洗い流すのに役立ちます `build` :

        C:\path\to\project\cordova\clean.bat
    

## エミュレーターへの展開します。

この時点で使用することができます、 `cordova` CLI ユーティリティ コマンドラインからエミュレーターにアプリケーションを配置します。

        > cordova emulate wp8
    

それ以外の場合、代替シェル インターフェイスを使用します。

        C:\path\to\project\cordova\run
    

既定で、 `run` スクリプト エミュレーター フラグを呼び出すし、追加のビルド フラグを受け入れる `--debug` 、既定値を提供します。

        C:\path\to\project\cordova\run --emulator --debug
        C:\path\to\project\cordova\run --emulator --release
        C:\path\to\project\cordova\run --emulator --nobuild
    

エミュレーターはインストールされているアプリケーションとデバイス イメージを起動します。 ホーム画面から、 **HelloWorld**アプリケーションを起動するアプリのパネルに移動します。これはメイン インタ フェースに続いてそのスプラッシュ画面を起動するアプリを示しています。

![][18]

 [18]: img/guide/platforms/wp8/wp8_emulator.png

デバイスの画面の右上に、エミュレーターの基本的なコントロールを縦向きと横向きに切り替えることができます。 The **>>** button opens more controls that allow you to test more complex orientations and gestures:

![][19]

 [19]: img/guide/platforms/wp8/wp8_emulator_orient.png

これらの高度なコントロールを使用または動きのシーケンスをシミュレートするデバイスの場所を変更するしたりすることもできます。

![][20]

 [20]: img/guide/platforms/wp8/wp8_emulator_loc.png

## デバイスへの配置します。

デバイス上でアプリケーションをテストする前に、デバイスを登録する必要があります。 Windows Phone 8 でテストおよび展開する方法の詳細については、 [Microsoft のマニュアル][21]を参照してください。 Also, make sure the phone is connected to the computer, and the screen is unlocked.

 [21]: http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff402565(v=vs.105).aspx

Then run the following CLI command to run the app on the device:

        > cordova run wp8
    

この低レベルのシェル コマンドに対応しています。

        C:\path\to\project\cordova\run --device
    

Alternately, if you are working in Visual Studio, select **Windows Phone Device** from the drop-down menu at the top, then press the green **Play** button nearby or else type **F5**.

## Modify the Project in the SDK

Once you build a Cordova app as described above, you can open it with the SDK. The various `build` commands generates a Visual Studio Solution (*.sln*) file. Open the file to modify the project within Visual Studio. The web-based source code is available within the project's `www` directory. Along with other tools the SDK provides, the control below the menu allows you to launch the app in a Windows Phone emulator:

![][22]

 [22]: img/guide/platforms/wp8/wp8_vs.png

Consult the Overview for advice on how to use Cordova's command-line tools or the SDK in your workflow. The Cordova CLI relies on cross-platform source code that routinely overwrites the platform-specific files used by the SDK. If you want to work within the SDK, use the lower-level shell tools as an alternative to the CLI.

## Support for Windows Phone 7

It's as easy to generate a Windows Phone 7 app as it is for Windows Phone 8, but it works much like adding a separate platform. If you're using the CLI, simply specify `wp7` along with or instead of `wp8`:

        > cordova platform add wp7
        > cordova build wp7
        > cordova emulate wp7
    

The `emulate` command produces a Windows Phone 7 device emulator that displays a different interface:

![][23]

 [23]: img/guide/platforms/wp8/wp7_emulator.png

If you are using the platform-centered shell-tool workflow, follow all the steps in the *Install Cordova Shell Tools* section above, except extract the tools from the `cordova-wp8\wp7` directory instead. All these tools work the same as their `wp8` counterparts.

**NOTE**: The WebViews that underly Windows Phone 7 Cordova apps do *not* use Internet Explorer 10 as their rendering engine, and thus miss some advanced features available in Windows Phone 8 apps. Still, both implement the same set of APIs. You can run a Windows Phone 7 app on a Windows Phone 8 device, but not the other way around: Windows Phone 8 apps do *not* run on Windows Phone 7 devices.